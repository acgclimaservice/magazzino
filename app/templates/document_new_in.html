{% extends "_base.html" %}
{% block title %}Nuovo DDT IN{% endblock %}
{% block content %}
<div class="bg-white p-4 rounded-xl shadow max-w-3xl">
  <h1 class="text-lg font-semibold mb-3">Nuovo DDT IN (manuale)</h1>
  <form method="post" action="{{ url_for('documents.new_in_save') }}" class="grid md:grid-cols-3 gap-3">
    <div>
      <label class="block text-xs text-gray-500">Data</label>
      <input type="date" name="data" class="border rounded p-2 w-full" value="{{ (today|string)[:10] }}">
    </div>
    <div>
      <label class="block text-xs text-gray-500">Numero</label>
      <input name="numero" class="border rounded p-2 w-full" required>
    </div>
    <div>
      <label class="block text-xs text-gray-500">Magazzino</label>
      <select name="magazzino_id" class="border rounded p-2 w-full">
        {% for m in magazzini %}<option value="{{ m.id }}">{{ m.codice }} — {{ m.nome }}</option>{% endfor %}
      </select>
    </div>
    <div>
      <label class="block text-xs text-gray-500">Commessa (Cliente)</label>
      <select name="commessa_id" class="border rounded p-2 w-full">
        <option value="">— Nessuna —</option>
        {% for c in clienti %}<option value="{{ c.id }}">{{ c.nome }}</option>{% endfor %}
      </select>
    </div>
    <div class="md:col-span-3">
      <label class="block text-xs text-gray-500">Fornitore</label>
      <input name="fornitore" class="border rounded p-2 w-full" placeholder="Ragione sociale" required>
    </div>
    <div class="md:col-span-3">
      <button class="px-3 py-2 rounded bg-indigo-600 text-white">Crea</button>
      <a href="{{ url_for('documents.documents_in') }}" class="ml-2 px-3 py-2 rounded border">Annulla</a>
    </div>
  </form>
</div>
{% endblock %}
