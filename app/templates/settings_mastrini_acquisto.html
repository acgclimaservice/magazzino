<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Impostazioni ▸ Mastrini (Acquisto)</title>
  <style>
    :root { --bg:#f5f7fb; --card:#fff; --text:#111827; --muted:#6b7280; --accent:#059669; --border:#e5e7eb; }
    body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background: var(--bg); color: var(--text); }
    .container { max-width: 960px; margin: 0 auto; padding: 16px; }
    .titlebar { display:flex; align-items:center; justify-content:space-between; margin-bottom: 12px; }
    .card { background: var(--card); border:1px solid var(--border); border-radius: 12px; padding: 16px; box-shadow: 0 4px 10px rgba(0,0,0,.04); }
    .btn { background: var(--accent); color:#fff; border:none; border-radius: 8px; padding: 8px 12px; font-size: 14px; cursor: pointer; }
    .btn:disabled{ opacity: .6; cursor:not-allowed; }
    .link { font-size: 14px; color:#2563eb; text-decoration: none; }
    .link:hover{ text-decoration: underline; }
    table { width:100%; border-collapse: collapse; font-size: 14px; }
    th, td { padding: 8px; border-top:1px solid var(--border); text-align:left; }
    thead th { background:#f9fafb; border-top:none; font-weight:600; }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }
    .muted { color: var(--muted); }
    .toolbar { display:flex; gap: 12px; align-items:center; }
    .count { font-size: 12px; color: var(--muted); }
  </style>
</head>
<body>
  <div class="container">
    <div class="titlebar">
      <h1 style="font-size:20px; font-weight:600; margin:0;">Mastrini (Acquisto)</h1>
      <a class="link" href="{{ url_for('settings.settings') }}">← Torna alle Impostazioni</a>
    </div>

    <div class="card">
      <form method="post" action="{{ url_for('settings.seed_mastrini_acquisto') }}" class="toolbar" style="margin-bottom:12px;">
        <button class="btn" type="submit">Aggiungi elenco predefinito</button>
        <div class="count">Totale: {{ mastrini_acq|length }}</div>
      </form>

      <div style="overflow:auto; max-height: 70vh;">
        <table>
          <thead>
            <tr>
              <th>Codice</th>
              <th>Descrizione</th>
            </tr>
          </thead>
          <tbody>
            {% for m in mastrini_acq %}
            <tr>
              <td class="mono">{{ m.codice }}</td>
              <td>{{ m.descrizione }}</td>
            </tr>
            {% else %}
            <tr><td colspan="2" class="muted">Nessun mastrino di tipo ACQUISTO.</td></tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
